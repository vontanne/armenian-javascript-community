Մի շարք հանրաճանաչ ծրագրավորման լեզուներում (_օրինակ՝ Java, Python, Ruby_) գոյություն ունեն կոդի կատարումը ժամանակավորապես արգելակող հատուկ ֆունկցիաներ/մեթոդներ։ (_Սովորաբար այդպիսի ֆունկցիան/մեթոդը անվանում են sleep_): **JavaScript**-ում այդպիսի ներդրված ֆունկցիա դեռևս չկա, սակայն հնարավոր է ստեղծել՝ ընդ որում բազմաթիվ տարբեր եղանակներով։

_setTimeout_ ֆունկցիայի ուղղակի օգտագործման միջոցով հնարավոր չէ այդպիսի ֆունկցիոնալություն ապահովել, քանի֊որ այն ասինխրոն է աշխատում։ Օրինակ փորձենք կոնսոլում աշխատեցնել հետևյալ կոդը՝

```js
console.log("start");
setTimeout(() => console.log("sleep for 3 seconds"), 3000);
console.log("continue");
```

Արդյունքը կլինի՝

1. start
2. continue
3. sleep for 3 seconds // կոդի գործարկումից 3 վայրկյան հետո

Իհարկե կարելի է _setTimeout_ ֆունկցիան «փաթեթավորել» _Promise_-ների մեջ, և օգտվելով _ES8_-ում ներդրված _async await_ սինթաքսիսից, գրել շատ գեղեցիկ ֆունկցիա, որը կապահովեր կոդի «քնի ռեժիմը», սակայն **JavaScript** ծրագրավորման լեզվի գեղեցկությունը հենց նրա մեջ է, որ այն թույլ է տալիս պարզ բաներն անել պարզ կերպով։

_sleep_ ֆունկցիան ստեղծելու համար մեզ անհրաժեշտ է օգտագործել ընդամենը _Date_ ներդրված օբյեկտը և _do while_ ցիկլը։ Ֆունկցիան կունենա հետևյալ տեսքը՝

```js
function sleep(milliseconds) {
  console.log(`Sleeping for ${milliseconds / 1000} seconds`);

  const startDate = Date.now();
  let currentDate;

  do {
    currentDate = Date.now();
  } while (currentDate - startDate < milliseconds);
}
```

Այժմ փորձենք կատարել վերևում բերված օրինակը՝ այս անգամ օգտվելով մեր ստեղծած sleep ֆունկցիայից։

```js
console.log("start");
sleep(3000);
console.log("continue");
```

Արդյունքը կլինի՝

1. start
2. sleep for 3 seconds
3. continue

Ֆունկցիան լավ է աշխատում, սակայն ունի նաև թերություն։ Այն ծրագրի կատարման հոսքը կանգնեցնում է ցիկլի աշխատանքի միջոցով և երաշխավորում է, որ ոչ մի այլ տիպի փոխազդեցություն ծրագրի հետ սկզբունքորեն հնարավոր չէ։ Եթե մեզ անհրաժեշտ լինի ծրագրի կատարման շատ ավելի մեծ ընդհատում՝ բացառված չէ, որ ծրագրի կատարումը կարող է ընդհանրապես խափանվել։

Եվ ևս մի տարբերակ, այս անգամ օգտագործելով վերոհիշյալ async await սինթաքսը։

```js
async function sleep(milliseconds) {
  return new Promise((resolve) => setTimeout(resolve, milliseconds));
}

async function run() {
  console.log("Starting...");
  await sleep(2000); // Sleep for 2 seconds
  console.log("Slept for 2 seconds");
}

run();
```
